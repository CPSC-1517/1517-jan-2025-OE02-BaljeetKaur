@page  "/datacollection"
<PageTitle> Data Collection</PageTitle>

<h3>DataCollection</h3>
<h4> Write data to a CSV file</h4>

@using OOPsReview

<blockquote> This Component demonstares how your page can handle validation messages , once the data is validated, then only data goes to CSV file</blockquote>

<br />

@if (feedbackMessage.Length > 0 )
{
	<div>
		@feedbackMessage
	</div>
}

<!-- 

This area will handle the display of collection of error messages, we are using Dictionary
-->

@if (errorDictionary.Count()>0)
{
	<div> 
		<p> Please fix following errors</p>
		<ul>
			@foreach ( var message in errorDictionary.Values)
			{
				<li> @message </li>
			}
		</ul>

	</div>

}

<!--
Creat our controls
-->

<fieldset>
	<div>
		<label for="title"> Position Title:  </label>
		<input id="title" type= "text" @bind =employmentTitle />
	</div>

	<div>
		<label for="startdate"> Position Start Date:  </label>
		<input id="startdate" type= "date" @bind=employmentStartDate />
	</div>

	<div>
		<label for="years"> Years:  </label>
		<input id="years" type= "number" @bind=employmentYear />
	</div>

	<div>
		<label for="level"> Supervisory Level:  </label>
		<select id="level" @bind=employmentLevel>
			@foreach (var item in Enum.GetValues(typeof(SupervisoryLevel)))
			{
				<option value="@item"> @item </option>
			}
		</select>/>
	</div>

</fieldset>

@code{

	private string feedbackMessage= "Test";

	private Dictionary<string, string> errorDictionary = new();

	private string employmentTitle;
	private SupervisoryLevel employmentLevel;
	private double employmentYear;
	private DateTime employmentStartDate;
}
